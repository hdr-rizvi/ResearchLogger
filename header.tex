% Font
\usepackage{fontspec}
\usepackage{newunicodechar}
\IfFontExistsTF{Segoe UI}{
    \setmainfont{Segoe UI}
}{
    \IfFontExistsTF{Times New Roman}{
        \setmainfont{Times New Roman}
    }{
        \setmainfont{Latin Modern Roman}
    }
}
\IfFontExistsTF{Segoe UI Symbol}{
    \newfontfamily\symfont{Segoe UI Symbol}
}{
    \IfFontExistsTF{Cambria Math}{
        \newfontfamily\symfont{Cambria Math}
    }{
        \newfontfamily\symfont{Latin Modern Math}
    }
}
\newunicodechar{⊥}{{\symfont ⊥}}

% Default font size
\AtBeginDocument{\fontsize{9pt}{9pt}\selectfont}

% Margins
\usepackage{geometry}
\geometry{
    top=0.8in,
    bottom=0.8in,
    left=0.7in,
    right=0.7in
}
% Line spacing
\usepackage{setspace}
\setstretch{0.9}

% Hyperlinks
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=blue
}

% No paragraph indentation
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

% Headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\leftmark}
\fancyhead[R]{\thepage}
\fancyfoot[C]{\textit{Generated by hResearchLogger}}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% Colors
\usepackage{xcolor}
\definecolor{linkcolor}{RGB}{0, 102, 204}
\definecolor{headingcolor}{RGB}{40, 40, 40}
\definecolor{codebackground}{RGB}{245, 245, 245}
\definecolor{quoteborder}{RGB}{200, 200, 200}



% TOC formatting
\usepackage{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} % Add dots
\setlength{\cftbeforesecskip}{2.5pt} % Compact spacing
\setlength{\cftbeforesubsecskip}{1.5pt}

% TOC title
\renewcommand{\contentsname}{Table of Contents}
% Depth (how many levels to show)
\setcounter{tocdepth}{4}